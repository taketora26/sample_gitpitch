## (ãƒ—ãƒ¬)å¤‰ä½æŒ‡å®šã«ã¤ã„ã¦

## ã‚ã‹ã‚Šã‚„ã™ã

## è§£èª¬ã•ã›ã¦ãã ã•ã„

2018/10/26 å‹‰å¼·ã—ãŸã“ã¨ã‚’å…±æœ‰ã™ã‚‹ä¼š(å¤§åŒ—ä¼š) 

æ± ç”° å¥è™

---

è‡ªå·±ç´¹ä»‹ã¯å‰²æ„›ã—ã¾ã™ãŒã€
ä¸€ç‚¹ã ã‘å…±æœ‰
---

<img src="https://github.com/taketora26/sample_gitpitch/blob/master/img/chiba.jpeg?raw=true" width="200">

å…ˆé€±ã®æ—¥æ›œæ—¥ã«

åƒè‘‰ã®**ã‚¢ã‚¯ã‚¢ãƒ©ã‚¤ãƒ³ãƒãƒ©ã‚½ãƒ³**ã«èµ°ã£ã¦ãã¾ã—ãŸã€‚

---

ã‚¿ã‚¤ãƒ ã¯3æ™‚é–“22åˆ†

<img src="https://github.com/taketora26/sample_gitpitch/blob/master/img/IMG_2142.JPG?raw=true" width="400">

---

### ãƒ™ã‚¹ãƒˆã‚¿ã‚¤ãƒ ã§ã¯ãªã„ã§ã™

* 20ã‚­ãƒ­éãã¦å³ãµãã‚‰ã¯ããŒã¤ã‚Šã¾ã—ãŸ
* ã‚¹ã‚¿ãƒ¼ãƒˆã®ä½ç½®ãŒ1ä¸‡2000äººä¸­ã€9000äººç›®ã‚ãŸã‚Šã§ã™
* è‚¡ãšã‚Œã§ç—›ã‹ã£ãŸã§ã™


---
11æœˆã«**å¯Œå£«å±±ãƒãƒ©ã‚½ãƒ³**ãŒã‚ã‚Šã¾ã™ã®ã§ã€

## ãã®çµæœã‚’ä¹ã†ã”æœŸå¾…

(å €è¶Šã•ã‚“ã‚‚èµ°ã‚Šã¾ã™ã‚ˆ)
---

æœ¬é¡Œã§ã™
---

## å¤‰ä½æŒ‡å®šã«ã¤ã„ã¦
## ã‚ã‹ã‚Šã‚„ã™ã
## è§£èª¬ã•ã›ã¦ãã ã•ã„
---
ã¾ãšã€Scalaã®Genericsã‚’

ä¸€è¨€ã§èª¬æ˜ã§ãã‚‹æ–¹ã„ã¾ã™ã‹ï¼Ÿ

---

Javaã‚’ã‚„ã£ã¦ã„ã‚‹äººã¯

### ã€Œã‚ã€Javaã§ã„ã†ç·ç§°å‹ã§ã™ã­ã€

ã¨ã‹å³åº§ã«ç†è§£ã•ã‚Œã¾ã™ãŒã€

Javaã‚’ã‚„ã£ã¦ã„ãªã„ç§ã¯

å…¨ç„¶ã‚ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸğŸ˜‡

---

## Genericsã¨ã¯ã€
 å‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å®šç¾©ã™ã‚‹ãŸã‚ã®æ©Ÿèƒ½ã§ã™

---

ã‚‚ã†å°‘ã—è©³ç´°ã«ã„ã†ã¨

Genericsã¨ã¯ã€
## å‹ã‚’ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã—ã¦å–ã‚‹
## ã‚¯ãƒ©ã‚¹ã‚„ã‚¤ãƒ³ã‚¿ãƒ•ã‚§ãƒ¼ã‚¹ãªã©ã‚’
## å®šç¾©ã™ã‚‹ãŸã‚ã®æ©Ÿèƒ½ã§ã™

---

## ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
ã€Œå¤–ã‹ã‚‰æ¸¡ã™å¤‰å‹•è¦ç´ ã€ã®ã“ã¨

---

ã¤ã¾ã‚Š**å‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**ã¯

ã‚¯ãƒ©ã‚¹ã®å®šç¾©æ™‚ã«ã¯ä½•ã®å‹ãŒå…¥ã‚‹ã‹æ±ºã¾ã£ã¦ã„ãªã„ã‘ã©ã‚‚ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–ã™ã‚‹éš›ã«å‹ã‚’æ±ºå®šã™ã‚‹ã‚¯ãƒ©ã‚¹ã‚„ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®å®šç¾©ã§ã™ã€‚

---
ãã—ã¦Scalaã®Genericsã¨ã¯
### ã“ã®å‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã™ã‚‹ãŸã‚ã®æ©Ÿèƒ½ã§ã™

---

## å¤‰ä½æŒ‡å®šã¨ã¯

* å‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã« + ã‚„ - ã®å¤‰ä½ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä»˜ã‘ã‚‹ã“ã¨ã§å¤‰ä½æŒ‡å®šã™ã‚‹ã“ã¨
* å¤‰ä½æŒ‡å®šã¯å—ã‘å–ã‚‹ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹(å¤‰æ•°ã¸ã®ä»£å…¥)ã«å¯¾ã™ã‚‹åˆ¶ç´„
---

#### å‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®å¤‰ä½ã«ã¯3ã¤ã‚ã‚Šã¾ã™

* éå¤‰[T]
* å…±å¤‰[+T]
* åå¤‰[-T]

---
## éå¤‰[T]ã¨ã¯ï¼Ÿ

* å‹ãŒå³æ ¼ãªå®šç¾©ã§ã™ã€‚ãã®å‹ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã—ã‹å¤‰æ•°ã«ä»£å…¥ã§ãã¾ã›ã‚“ã€‚
* åŸºæœ¬çš„ã«å‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ä½¿ã†ã¨ãã«å¤‰ç•°æŒ‡å®šã‚’ã¤ã‘ãªã„å ´åˆã¯éå¤‰ã§ã™ã€‚
* Arrayã€SetãŒéå¤‰ã§ã™ã€‚

---

```Scala
class Fruits
class Apple extends Fruits
class Banana extends Fruits
```

```Scala
class Box[T](var value:T) {
  def put(t:T):Unit = { value = t }
  def get:T = value
}

```

```Scala
scala> val appleBox = new Box[Apple](new Apple)
appleBox: Box[Apple] = Box@4364e670

//ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¯ãƒ©ã‚¹ã®å¤‰æ•°ã« ã‚µãƒ–ã‚¯ãƒ©ã‚¹ã‚’ä»£å…¥ã§ããªã„
scala> val fruitsBox:Box[Fruits] = appleBox
<console>:14: error: type mismatch;
 found   : Box[Apple]
 required: Box[Fruits]
:Note Apple <: Fruits, but class Box is invariant in type T.
You may wish to define T as +T instead. (SLS 4.5)
       val fruitsBox:Box[Fruits] = appleBox
                                   ^
 ```
---

### ã“ã“ã§ä¸€ç‚¹æ³¨æ„

* å¤‰ä½æŒ‡å®šã¯å—ã‘å–ã‚‹ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«å¯¾ã™ã‚‹åˆ¶ç´„
* ãƒ¡ã‚½ãƒƒãƒ‰ã®å‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«å¯¾ã—ã¦ã¯åˆ¶ç´„ã™ã‚‹ã“ã¨ã¯ã§ããªã„ã€‚

```Scala
scala>  val fruitsBox:Box[Fruits] = new Box[Fruits](new Fruits)
fruitsBox: Box[Fruits] = Box@15bf5fd0
scala> fruitsBox.put(new Fruits)

scala> fruitsBox.put(new Apple)

scala> fruitsBox.put(new Banana)

scala> fruitsBox.get
res4: Fruits = Banana@26f8c8d9
```
---

ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¯ãƒ©ã‚¹ã«ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã®ãƒ¡ã‚½ãƒƒãƒ‰ã®å¼•æ•°ã«ã€ã‚µãƒ–ã‚¯ãƒ©ã‚¹ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å…¥ã‚Œã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚

```Scala
scala>  val fruitsBox2:Box[Fruits] = fruitsBox 
fruitsBox2: Box[Fruits] = Box@15bf5fd0

scala> fruitsBox2.get
res5: Fruits = Banana@26f8c8d9
```

---

ã—ã‹ã—éå¤‰ã®ç‰¹å¾´ã¨ã—ã¦ã€immutableãªå ´åˆã«ã“ã®åˆ¶é™ã ã¨å¼·éãã‚‹ã€‚

```Scala
class Box[T](val value:T) {
  def get:T = value
}
```
ä¸€æ—¦appleBoxã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒä½œã‚‰ã‚ŒãŸã‚ã¨ã¯ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«å¯¾ã™ã‚‹æ›¸ãè¾¼ã¿ãŒè¡Œã‚ã‚Œãªã„ã®ã§ã€å¤‰æ•°ã«ã‚‚ä»£å…¥ã—ã¦è‰¯ããªã„ï¼Ÿ

---

## å…±å¤‰[+T]ã¨ã¯ï¼Ÿ
* å‹ã‚’ã‚†ã‚‹ã‚ã‚‹å®šç¾©ã§ã™ã€‚ 
 * ã‚µãƒ–ã‚¯ãƒ©ã‚¹ã‚’ä»£å…¥ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã€ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¯ãƒ©ã‚¹ã®å¤‰æ•°ã«ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚’ç¶™æ‰¿ã—ãŸè‰²ã‚“ãªã‚µãƒ–ã‚¯ãƒ©ã‚¹ã‚’ä»£å…¥ã§ãã¾ã™ã€‚
* Optionã€Tryã€Eitherã€Traversable(Seqã€Mapãªã©)

---

```Scala
class Fruits
class Apple extends Fruits
```

```Scala
class Box[+T](value:T) {
  def get:T = value
}
```

```Scala
scala> val appleBox = new Box[Apple](new Apple)
appleBox: Box[Apple] = Box@5ad7d599

//ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¯ãƒ©ã‚¹ã®å¤‰æ•°ã« ã‚µãƒ–ã‚¯ãƒ©ã‚¹ã‚’ä»£å…¥ã§ãã‚‹
scala> val fruitsBox:Box[Fruits] = appleBox
fruitsBox: Box[Fruits] = Box@5ad7d599
```
---

å…±å¤‰ã®ä¸€ç•ªã®ãƒ¡ãƒªãƒƒãƒˆã¯

```Scala
val list:List[Int] = Nil
```

NilãŒä½¿ãˆã‚‹ã“ã¨ã€‚

```Scala
case object Nil extends List[Nothing]
```

<img src="https://github.com/taketora26/sample_gitpitch/blob/master/img/kaisou.png?raw=true" width="400">
* Scalaã®ã‚¯ãƒ©ã‚¹éšå±¤

---

ã“ã“ã§ä¸€ç‚¹æ³¨æ„
---
å…±å¤‰ã¯ãã®ã¾ã¾ã®çŠ¶æ…‹ã§ã™ã¨å¼•æ•°ã«æŒã£ã¦ãã‚‹ã“ã¨ãŒã§ãã¾ã›ã‚“ã€‚

```Scala
class Box[+T](var value:T) {

  def put(t:T):Unit = { value = t }
  def get:T = value
}
```

```Scala
<console>:11: error: covariant type T occurs in contravariant position in type T of value value_=
       class Box[+T](var value:T) {
                         ^
<console>:13: error: covariant type T occurs in contravariant position in type T of value t
         def put(t:T):Unit = { value = t }
                 ^
```
---
ã“ã‚Œã¯ãªãœã‹ï¼Ÿ

ä»®ã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã§ã‚¨ãƒ©ãƒ¼ãŒå‡ºãªã„ã¨ã—ãŸã¨ãã«ã€



---



# APPENDIX
---

## REFERENCE(1)

* [[scala][å‚™å¿˜éŒ²] Scalaã®ã‚¸ã‚§ãƒãƒªãƒƒã‚¯ã‚¹ã‚’å­¦ã¶](http://d.hatena.ne.jp/j5ik2o/20101106/1289028031)
* [ç¬¬6å› Scalaè¨€èªã‚’æ¢æ¤œã™ã‚‹ï¼ˆ4ï¼‰Scalaã®å‹ã‚·ã‚¹ãƒ†ãƒ ](https://tech.nikkeibp.co.jp/it/article/COLUMN/20090106/322252/?ST=develop&P=3)
* [Javaã®ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ã¯ã€Œã¾ãŒã„ç‰©ã€ã§ã¯ãªã„](http://kmizu.hatenablog.com/entry/2017/09/24/074904)
* [Javaã¨Scalaã¨C#ã®ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹æ©Ÿèƒ½æ¯”è¼ƒè¡¨](http://kmizu.hatenablog.com/entry/20101109/1289264947)
* [Scalaã§ListãŒå…±å¤‰ã§ãªã‘ã‚Œã°ã„ã‘ãªã„ç†ç”±](http://kmizu.hatenablog.com/entry/20120810/1344601464)
* [Scalaã¨Kotlinï¼ˆã¨æ˜”ã®Javaï¼‰ã®ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ãŒå£Šã‚Œã¦ã„ã‚‹ç†ç”±](http://kmizu.hatenablog.com/entry/2016/09/04/145023)

---
## REFERENCE(2)
* [è‡ªåˆ†è‡ªèº«ã®å‹ã‚’ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«å–ã‚‹genericãªå‹ã‚’è¨˜è¿°ã™ã‚‹](http://kmizu.hatenablog.com/entry/20080820/1219231895)
* [Scalaé€†å¼•ããƒ¬ã‚·ãƒ”](www.amazon.co.jp/dp/4798125415)
* [Scalaã‚¹ã‚±ãƒ¼ãƒ©ãƒ–ãƒ«ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ç¬¬3ç‰ˆ](www.amazon.co.jp/dp/4844381490)